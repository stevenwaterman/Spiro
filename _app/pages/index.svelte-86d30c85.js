var _t=Object.defineProperty,dt=Object.defineProperties;var mt=Object.getOwnPropertyDescriptors;var Te=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable;var We=(n,e,t)=>e in n?_t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,he=(n,e)=>{for(var t in e||(e={}))yt.call(e,t)&&We(n,t,e[t]);if(Te)for(var t of Te(e))vt.call(e,t)&&We(n,t,e[t]);return n},ge=(n,e)=>dt(n,mt(e));import{S as Z,i as Q,s as U,e as W,k as re,w as L,c as Y,a as E,d as w,m as le,x as V,b as p,N as O,g as I,M as R,y as z,O as q,q as S,o as P,B,P as M,t as fe,h as ue,j as Pe,Q as et,n as H,p as G,R as tt,T as nt,U as $,V as ee,W as Ye,l as D,E as te,X as rt,Y as de,Z as bt,_ as kt,$ as ce,a0 as lt,a1 as ot,a2 as wt,G as Me,a3 as Le,a4 as it}from"../chunks/index-1957c8dd.js";import{d as K,w as me}from"../chunks/index-9d1ef97e.js";function Ct(n,e){return n.every(t=>e.some(r=>Ve(t,r)))&&e.every(t=>n.some(r=>Ve(r,t)))}function Ve(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!St(n[t],e[t]))return!1;return!0}function St(n,e){const t=Math.abs(n.length-e.length)<1e-4,r=Math.abs(n.rate-e.rate)<1e-4,l=Math.abs(n.phase-e.phase)<1e-4;return t&&r&&l}function N(n){const e=n.split(" ").filter(t=>t.length>0).map(t=>{const[r,l]=t.split("x"),o=Number.parseFloat(r),[s,u]=l.split("+"),f=Number.parseFloat(s),c=Number.parseFloat(u);return{length:o,rate:f,phase:c}});return Ie(e)}function ze(n){return n.map(e=>`${e.length}x${e.rate}+${e.phase}`).join(" ")}function Ie(n){const e=[...n];e.sort((i,h)=>i.rate-h.rate);const t=e.reduce((i,h)=>{if(i.length===0)return[[h]];const g=i[i.length-1];return g[0].rate!==h.rate?(i.push([h]),i):(g.push(h),i)},[]).map(i=>Pt(i)),l=t.map(i=>Math.abs(i.rate)).filter(i=>i!==0).reduce(It,1),o=t.map(i=>ge(he({},i),{rate:i.rate/l})),s=Be(o),u=ze(s),f=s.map(i=>ge(he({},i),{rate:-i.rate}));f.sort((i,h)=>i.rate-h.rate);const c=Be(f);return ze(c)>u?c:s}function Pt(n){let e=n[0];for(let t=1;t<n.length;t++)e=Mt(e,n[t]);return e}function Mt(n,e){const t=n.rate,r=n.phase*2*Math.PI/12,l=Math.cos(r)*n.length,o=Math.sin(r)*n.length,s=e.phase*2*Math.PI/12,u=Math.cos(s)*e.length,f=Math.sin(s)*e.length,c=l+u,a=o+f,i=Math.sqrt(Math.pow(c,2)+Math.pow(a,2)),h=Math.acos(c/i)/(2*Math.PI),g=1-h,_=a>0?h:g,m=12*_;return{length:i,phase:m,rate:t}}function It(n,e){if(n=Math.abs(n),e=Math.abs(e),e>n){var t=n;n=e,e=t}for(;;){if(e==0)return n;if(n%=e,n==0)return e;e%=n}}function Be(n){const e=n.map(s=>{const u=(s.phase%12+12)%12;return ge(he({},s),{phase:u})}),t=[],r=[];for(let s=0;s<12;s++){const u=e.map(c=>{const a=c.phase,i=c.rate*s,g=((a+i)%12+12)%12;return ge(he({},c),{phase:g})}),f=u.map(c=>c.phase).reduce((c,a)=>c+a,0);t.push(u),r.push(f)}const l=Math.min(...r),o=r.indexOf(l);return t[o]}function ie(n){return(n==null?void 0:n.type)==="ARM"}function st(n){return(n==null?void 0:n.type)==="PEN"}function Ae(n){var e;return((e=n==null?void 0:n.parent)==null?void 0:e.type)==="PARENT"}function Ee(n){var e;return((e=n==null?void 0:n.parent)==null?void 0:e.type)==="SECONDARY"}function at(n){var e;return((e=n==null?void 0:n.parent)==null?void 0:e.type)==="PRIMARY"}function At(n){return ie(n)&&Ae(n)}const x=me({A:{id:"A",type:"ARM",parent:{type:"PRIMARY"},length:1,rate:0,color:"red",phase:0}}),J=me(void 0),Et=K([x,J],([n,e])=>{if(e===void 0)return;let t=n[e];for(;t.parent.type==="PARENT";)t=n[t.parent.id];return t.id}),ke=1,se=me(!1);J.subscribe(n=>{n!==void 0&&se.set(!1)});function Nt(n,e,t){x.update(r=>{const l=r[e];return l.parent={type:"PARENT",id:n,idx:t},r})}function ft(n){x.update(e=>(e[n].parent={type:"SECONDARY",left:0,top:0},e))}function Ne(n,e){if(n===void 0)return;const t=100*e.clientX/window.innerWidth,r=100*e.clientY/window.innerHeight;x.update(l=>{const o=l[n];return Ee(o)&&(o.parent.left=t,o.parent.top=r),l})}function Ot(n){return JSON.parse(JSON.stringify(n))}const Oe=K(x,n=>Object.values(n).filter(st).map(l=>Rt(l,n)).reduce((l,o)=>(l[o.anchorId]===void 0&&(l[o.anchorId]=[]),l[o.anchorId].push(o),l),{}));function Rt(n,e){const t=ut(n,e);return{penId:n.id,anchorId:t.anchorId,color:n.color,wheels:t.wheels}}function ut(n,e){if(!Ae(n))return{wheels:[],anchorId:n.id};const t=e[n.parent.id],r={length:n.parent.idx,rate:t.rate,phase:t.phase},l=ut(t,e),o=l.wheels;if(o.length>0){const s=o[o.length-1];r.rate+=s.rate}return o.push(r),l}const Dt=K(Oe,n=>{const e={};return Object.entries(n).forEach(([t,r])=>{e[t]=r.map(l=>Ie(l.wheels))}),e}),Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Wt=["red","orange","blue","purple","yellow","white"];function T(n,e,...t){const r=t.flat();r.push(...oe("green")),r.forEach((s,u)=>{ie(s)&&(s.color=Wt[u%6])});const l=r.find(ie);l!==void 0&&(l.parent={type:"PRIMARY"});const o={};return r.forEach((s,u)=>{s.id=Tt[u],o[s.id]=s,Ee(s)&&(s.parent.left=10,s.parent.top=10+80*u/r.length)}),{name:n,answer:e,pieces:o}}function b(n,e,t=0,r){const l=[];for(let o=0;o<(r!=null?r:1);o++)l.push({id:"TODO",type:"ARM",parent:{type:"SECONDARY",left:0,top:0},length:n,rate:e,color:"black",phase:t});return l}function oe(n){return[{id:"TODO",type:"PEN",parent:{type:"SECONDARY",left:0,top:0},color:n}]}const Yt={1:T("Starting Simple",[N("1x1+0")],b(2,1)),2:T("Speedy Session",[N("4x1+0 2x5+0")],b(5,1),b(3,4)),3:T("Teamwork",[N("2x1+0 3x2+0")],b(3,1),b(5,1)),4:T("Trio",[N("3x1+0 3x3+0 2x5+0")],b(4,1),b(4,2),b(4,2)),5:T("Underutilised",[N("2x1+0 3x4+0")],b(4,1),b(4,3)),6:T("Two steps back",[N("3x1+0 3x-3+0")],b(5,1),b(5,-4)),7:T("Squishy",[N("4x1+0 2x-1+4")],b(5,1),b(4,-2,4)),8:T("Something Fishy",[N("5x1+4 3x2+1 5x-1+10")],b(6,-1,4),b(7,3,10),b(5,-1,1)),9:T("Stick",[N("6x1+0 2x-2+9")],b(3,1),b(6,0),b(3,-3,9)),10:T("Round and Round",[N("5x2+0 2x-1+2")],b(6,2,0),b(4,-3,2)),11:T("Getting Rapid",[N("8x1+0 2x1+3 3x7+0 1x19+11")],b(9,1),b(3,0,3),b(4,6),b(2,12,11)),12:T("Poppy",[N("3x1+0"),N("6x1+0 2x4+9")],b(7,1),b(3,3,9),oe("red")),13:T("Arc Reactor",[N("5x2+5 2x2+4 2x7+0"),N("3x2+5 2x-3+9")],b(6,2,5),b(3,0,4),b(3,-5,9),b(3,5,0),oe("white")),14:T("Bow Tie",[N("2x1+7 3x-3+3 2x-1+5"),N("7x1+7 9x0+9 1x-1+11")],b(8,1,7),b(10,-1,9),b(2,-1,11),b(4,-4,3),b(3,2,5),oe("purple")),15:T("Launch",[N("6x1+1 1x-1+5 2x-2+1 1x2+5"),N("9x1+1 18x0+3 1x4+1 2x-2+1 2x-5+1"),N("1x1+1 27x0+8 1x-1+8 4x-5+5 9x5+5"),N("1x1+1 26x0+8 7x1+1 1x1+8")],b(10,1,1),b(10,0,3),b(10,-1,3),b(2,0,8),b(2,-1,8),b(8,1,1),b(10,0,8),b(10,-1,8),b(3,-3,1),b(5,-4,5),b(3,-1,1),b(10,10,5),b(3,-6,1),b(2,4,5),b(2,-2,5),b(10,0,8),b(2,4,1),oe("red"),oe("orange"),oe("yellow")),16:T("Done",[N("1x1+0")],b(2,1))},pe=me(1);pe.subscribe(()=>se.set(!1));const Re=K(pe,n=>Yt[n]);Re.subscribe(n=>{x.set(Ot(n.pieces))});const Lt=K(Re,n=>n.name),ct=K(Re,n=>n.answer),De=K(ct,n=>n.map(Ie)),ht=K(De,n=>{const e=n.map(r=>r.map(l=>Math.abs(l.rate)).reduce((l,o)=>l+o,0)),t=Math.max(0,...e);return Math.pow(t,.6)}),Vt=K([De,Dt],([n,e])=>Object.values(e).some(t=>Ct(n,t))),_e=me(!1);x.subscribe(()=>_e.set(!1));function zt(n){const e=n.map(t=>t.map(r=>r.length).reduce((r,l)=>r+l,1));return Math.max(1,...e)}const Ce=K(ct,zt);function Bt(n){let e,t,r,l,o,s,u,f;return l=new gt({props:{nodeConfig:n[0],anchorId:n[1],parentPhase:n[5]}}),{c(){e=W("div"),t=W("div"),r=re(),L(l.$$.fragment),this.h()},l(c){e=Y(c,"DIV",{class:!0,style:!0});var a=E(e);t=Y(a,"DIV",{class:!0}),E(t).forEach(w),r=le(a),V(l.$$.fragment,a),a.forEach(w),this.h()},h(){p(t,"class","dot svelte-nwxiky"),p(e,"class","node svelte-nwxiky"),p(e,"style",o=`transform: rotate(${n[5]-n[2]}turn);`),O(e,"isFirst",n[3]),O(e,"isPlacementOption",n[4]),O(e,"hasChild",n[0]!==void 0)},m(c,a){I(c,e,a),R(e,t),R(e,r),z(l,e,null),s=!0,u||(f=q(e,"click",n[6]),u=!0)},p(c,[a]){const i={};a&1&&(i.nodeConfig=c[0]),a&2&&(i.anchorId=c[1]),a&32&&(i.parentPhase=c[5]),l.$set(i),(!s||a&36&&o!==(o=`transform: rotate(${c[5]-c[2]}turn);`))&&p(e,"style",o),a&8&&O(e,"isFirst",c[3]),a&16&&O(e,"isPlacementOption",c[4]),a&1&&O(e,"hasChild",c[0]!==void 0)},i(c){s||(S(l.$$.fragment,c),s=!0)},o(c){P(l.$$.fragment,c),s=!1},d(c){c&&w(e),B(l),u=!1,f()}}}function Ft(n,e,t){let r,l;M(n,J,_=>t(9,r=_)),M(n,Et,_=>t(10,l=_));let{parentConfig:o}=e,{childConfig:s}=e,{idx:u}=e,{anchorId:f}=e,{parentPhase:c}=e,a,i;function h(_){!i||r==null||(_.stopPropagation(),Nt(o.id,r,u),J.set(void 0))}let g;return n.$$set=_=>{"parentConfig"in _&&t(7,o=_.parentConfig),"childConfig"in _&&t(0,s=_.childConfig),"idx"in _&&t(8,u=_.idx),"anchorId"in _&&t(1,f=_.anchorId),"parentPhase"in _&&t(2,c=_.parentPhase)},n.$$.update=()=>{n.$$.dirty&256&&t(3,a=u===0),n.$$.dirty&1547&&t(4,i=!a&&r!==void 0&&s===void 0&&l!==f),n.$$.dirty&1&&t(5,g=ie(s)?s.phase/12:0)},[s,f,c,a,i,g,h,o,u,r,l]}class Xt extends Z{constructor(e){super(),Q(this,e,Ft,Bt,U,{parentConfig:7,childConfig:0,idx:8,anchorId:1,parentPhase:2})}}function Fe(n,e,t){const r=n.slice();return r[12]=e[t],r[14]=t,r}function Xe(n){let e,t;return e=new Xt({props:{parentConfig:n[0],childConfig:n[5][n[8]-n[14]],idx:n[8]-n[14],anchorId:n[1],parentPhase:n[2]}}),{c(){L(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,l){z(e,r,l),t=!0},p(r,l){const o={};l&1&&(o.parentConfig=r[0]),l&288&&(o.childConfig=r[5][r[8]-r[14]]),l&256&&(o.idx=r[8]-r[14]),l&2&&(o.anchorId=r[1]),l&4&&(o.parentPhase=r[2]),e.$set(o)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function je(n){let e,t=n[0].rate+"",r,l;return{c(){e=W("span"),r=fe(t),this.h()},l(o){e=Y(o,"SPAN",{class:!0,style:!0});var s=E(e);r=ue(s,t),s.forEach(w),this.h()},h(){p(e,"class","speed svelte-da8anb"),p(e,"style",l=`color: var(--${n[0].color});`)},m(o,s){I(o,e,s),R(e,r)},p(o,s){s&1&&t!==(t=o[0].rate+"")&&Pe(r,t),s&1&&l!==(l=`color: var(--${o[0].color});`)&&p(e,"style",l)},d(o){o&&w(e)}}}function jt(n){let e,t,r,l,o,s,u={length:n[0].length},f=[];for(let i=0;i<u.length;i+=1)f[i]=Xe(Fe(n,u,i));const c=i=>P(f[i],1,1,()=>{f[i]=null});let a=n[0].rate!==0&&je(n);return{c(){e=W("div");for(let i=0;i<f.length;i+=1)f[i].c();t=re(),a&&a.c(),this.h()},l(i){e=Y(i,"DIV",{class:!0,style:!0});var h=E(e);for(let g=0;g<f.length;g+=1)f[g].l(h);t=le(h),a&&a.l(h),h.forEach(w),this.h()},h(){p(e,"class","arm svelte-da8anb"),p(e,"style",r=`
    --rotations: ${n[6]};
    background-color: var(--light${n[0].color});
  `),O(e,"show",n[4]),O(e,"resetting",n[7])},m(i,h){I(i,e,h);for(let g=0;g<f.length;g+=1)f[g].m(e,null);R(e,t),a&&a.m(e,null),n[11](e),l=!0,o||(s=q(e,"click",et(n[9])),o=!0)},p(i,[h]){if(h&295){u={length:i[0].length};let g;for(g=0;g<u.length;g+=1){const _=Fe(i,u,g);f[g]?(f[g].p(_,h),S(f[g],1)):(f[g]=Xe(_),f[g].c(),S(f[g],1),f[g].m(e,t))}for(H(),g=u.length;g<f.length;g+=1)c(g);G()}i[0].rate!==0?a?a.p(i,h):(a=je(i),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!l||h&65&&r!==(r=`
    --rotations: ${i[6]};
    background-color: var(--light${i[0].color});
  `))&&p(e,"style",r),h&16&&O(e,"show",i[4]),h&128&&O(e,"resetting",i[7])},i(i){if(!l){for(let h=0;h<u.length;h+=1)S(f[h]);l=!0}},o(i){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)P(f[h]);l=!1},d(i){i&&w(e),tt(f,i),a&&a.d(),n[11](null),o=!1,s()}}}function qt(n,e,t){let r,l;M(n,se,m=>t(4,r=m)),M(n,x,m=>t(10,l=m));let{nodeConfig:o}=e,{anchorId:s}=e,{parentPhase:u}=e,f,c,a,i=!1;function h(m){o.id!=="A"&&(ft(o.id),Ne(o.id,m),J.set(o.id))}let g;function _(m){nt[m?"unshift":"push"](()=>{c=m,t(3,c)})}return n.$$set=m=>{"nodeConfig"in m&&t(0,o=m.nodeConfig),"anchorId"in m&&t(1,s=m.anchorId),"parentPhase"in m&&t(2,u=m.parentPhase)},n.$$.update=()=>{if(n.$$.dirty&1025&&t(5,f=Object.values(l).filter(Ae).filter(m=>m.parent.id===o.id).reduce((m,A)=>(m[A.parent.idx]=A,m),{})),n.$$.dirty&1&&t(6,a=o.rate*ke),n.$$.dirty&24&&c!==void 0&&!r){const m=getComputedStyle(c).transform,[A,v]=m.substring(7,m.length-1).split(",").map(y=>Number.parseFloat(y)),d=Math.atan2(v,A)*(180/Math.PI)/360;c.style.setProperty("--shortcutRotations",d+"turn"),t(7,i=!0),setTimeout(()=>{t(7,i=!1)})}n.$$.dirty&1&&t(8,g=o.length-1)},[o,s,u,c,r,f,a,i,g,h,l,_]}class Ht extends Z{constructor(e){super(),Q(this,e,qt,jt,U,{nodeConfig:0,anchorId:1,parentPhase:2})}}/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var Gt={prefix:"fas",iconName:"arrow-circle-right",icon:[512,512,[],"f0a9","M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z"]},Ut={prefix:"fas",iconName:"pause",icon:[448,512,[],"f04c","M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"]},Jt={prefix:"fas",iconName:"pen",icon:[512,512,[],"f304","M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"]},Zt={prefix:"fas",iconName:"play",icon:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"]};const be=parseFloat;function we(n,e=";"){let t;if(Array.isArray(n))t=n.filter(r=>r);else{t=[];for(const r in n)n[r]&&t.push(`${r}:${n[r]}`)}return t.join(e)}function Qt(n,e,t,r){let l,o;const s="1em";let u,f,c,a="-.125em";const i="visible";return r&&(c="center",o="1.25em"),t&&(l=t),e&&(e=="lg"?(f="1.33333em",u=".75em",a="-.225em"):e=="xs"?f=".75em":e=="sm"?f=".875em":f=e.replace("x","em")),we([we({float:l,width:o,height:s,"line-height":u,"font-size":f,"text-align":c,"vertical-align":a,"transform-origin":"center",overflow:i}),n])}function Kt(n,e,t,r,l,o,s="",u=""){let f=1,c=1;return l&&(l=="horizontal"?f=-1:l=="vertical"?c=-1:f=c=-1),we([`translate(${be(e)*o}${s},${be(t)*o}${s})`,`scale(${f*be(n)},${c*be(n)})`,r&&`rotate(${r}${u})`]," ")}function qe(n){let e,t,r,l,o,s,u;function f(i,h){return typeof i[7][4]=="string"?$t:xt}let c=f(n),a=c(n);return{c(){e=$("svg"),t=$("g"),r=$("g"),a.c(),this.h()},l(i){e=ee(i,"svg",{id:!0,class:!0,style:!0,viewBox:!0,"aria-hidden":!0,role:!0,xmlns:!0});var h=E(e);t=ee(h,"g",{transform:!0,"transform-origin":!0});var g=E(t);r=ee(g,"g",{transform:!0});var _=E(r);a.l(_),_.forEach(w),g.forEach(w),h.forEach(w),this.h()},h(){p(r,"transform",n[10]),p(t,"transform",l=`translate(${n[7][0]/2} ${n[7][1]/2})`),p(t,"transform-origin",o=`${n[7][0]/4} 0`),p(e,"id",n[0]),p(e,"class",s=Ye(n[8])+" svelte-1cj2gr0"),p(e,"style",n[9]),p(e,"viewBox",u=`0 0 ${n[7][0]} ${n[7][1]}`),p(e,"aria-hidden","true"),p(e,"role","img"),p(e,"xmlns","http://www.w3.org/2000/svg")},m(i,h){I(i,e,h),R(e,t),R(t,r),a.m(r,null)},p(i,h){c===(c=f(i))&&a?a.p(i,h):(a.d(1),a=c(i),a&&(a.c(),a.m(r,null))),h&1024&&p(r,"transform",i[10]),h&128&&l!==(l=`translate(${i[7][0]/2} ${i[7][1]/2})`)&&p(t,"transform",l),h&128&&o!==(o=`${i[7][0]/4} 0`)&&p(t,"transform-origin",o),h&1&&p(e,"id",i[0]),h&256&&s!==(s=Ye(i[8])+" svelte-1cj2gr0")&&p(e,"class",s),h&512&&p(e,"style",i[9]),h&128&&u!==(u=`0 0 ${i[7][0]} ${i[7][1]}`)&&p(e,"viewBox",u)},d(i){i&&w(e),a.d()}}}function xt(n){let e,t,r,l,o,s,u,f,c,a;return{c(){e=$("path"),s=$("path"),this.h()},l(i){e=ee(i,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),E(e).forEach(w),s=ee(i,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),E(s).forEach(w),this.h()},h(){p(e,"d",t=n[7][4][0]),p(e,"fill",r=n[3]||n[1]||"currentColor"),p(e,"fill-opacity",l=n[6]!=!1?n[4]:n[5]),p(e,"transform",o=`translate(${n[7][0]/-2} ${n[7][1]/-2})`),p(s,"d",u=n[7][4][1]),p(s,"fill",f=n[2]||n[1]||"currentColor"),p(s,"fill-opacity",c=n[6]!=!1?n[5]:n[4]),p(s,"transform",a=`translate(${n[7][0]/-2} ${n[7][1]/-2})`)},m(i,h){I(i,e,h),I(i,s,h)},p(i,h){h&128&&t!==(t=i[7][4][0])&&p(e,"d",t),h&10&&r!==(r=i[3]||i[1]||"currentColor")&&p(e,"fill",r),h&112&&l!==(l=i[6]!=!1?i[4]:i[5])&&p(e,"fill-opacity",l),h&128&&o!==(o=`translate(${i[7][0]/-2} ${i[7][1]/-2})`)&&p(e,"transform",o),h&128&&u!==(u=i[7][4][1])&&p(s,"d",u),h&6&&f!==(f=i[2]||i[1]||"currentColor")&&p(s,"fill",f),h&112&&c!==(c=i[6]!=!1?i[5]:i[4])&&p(s,"fill-opacity",c),h&128&&a!==(a=`translate(${i[7][0]/-2} ${i[7][1]/-2})`)&&p(s,"transform",a)},d(i){i&&w(e),i&&w(s)}}}function $t(n){let e,t,r,l;return{c(){e=$("path"),this.h()},l(o){e=ee(o,"path",{d:!0,fill:!0,transform:!0}),E(e).forEach(w),this.h()},h(){p(e,"d",t=n[7][4]),p(e,"fill",r=n[1]||n[2]||"currentColor"),p(e,"transform",l=`translate(${n[7][0]/-2} ${n[7][1]/-2})`)},m(o,s){I(o,e,s)},p(o,s){s&128&&t!==(t=o[7][4])&&p(e,"d",t),s&6&&r!==(r=o[1]||o[2]||"currentColor")&&p(e,"fill",r),s&128&&l!==(l=`translate(${o[7][0]/-2} ${o[7][1]/-2})`)&&p(e,"transform",l)},d(o){o&&w(e)}}}function en(n){let e,t=n[7][4]&&qe(n);return{c(){t&&t.c(),e=D()},l(r){t&&t.l(r),e=D()},m(r,l){t&&t.m(r,l),I(r,e,l)},p(r,[l]){r[7][4]?t?t.p(r,l):(t=qe(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:te,o:te,d(r){t&&t.d(r),r&&w(e)}}}function tn(n,e,t){let{class:r=""}=e,{id:l=""}=e,{style:o=""}=e,{icon:s}=e,{size:u=""}=e,{color:f=""}=e,{fw:c=!1}=e,{pull:a=""}=e,{scale:i=1}=e,{translateX:h=0}=e,{translateY:g=0}=e,{rotate:_=""}=e,{flip:m=!1}=e,{spin:A=!1}=e,{pulse:v=!1}=e,{primaryColor:d=""}=e,{secondaryColor:y=""}=e,{primaryOpacity:k=1}=e,{secondaryOpacity:X=.4}=e,{swapOpacity:j=!1}=e,F,ne,ye,ve;return n.$$set=C=>{"class"in C&&t(11,r=C.class),"id"in C&&t(0,l=C.id),"style"in C&&t(12,o=C.style),"icon"in C&&t(13,s=C.icon),"size"in C&&t(14,u=C.size),"color"in C&&t(1,f=C.color),"fw"in C&&t(15,c=C.fw),"pull"in C&&t(16,a=C.pull),"scale"in C&&t(17,i=C.scale),"translateX"in C&&t(18,h=C.translateX),"translateY"in C&&t(19,g=C.translateY),"rotate"in C&&t(20,_=C.rotate),"flip"in C&&t(21,m=C.flip),"spin"in C&&t(22,A=C.spin),"pulse"in C&&t(23,v=C.pulse),"primaryColor"in C&&t(2,d=C.primaryColor),"secondaryColor"in C&&t(3,y=C.secondaryColor),"primaryOpacity"in C&&t(4,k=C.primaryOpacity),"secondaryOpacity"in C&&t(5,X=C.secondaryOpacity),"swapOpacity"in C&&t(6,j=C.swapOpacity)},n.$$.update=()=>{n.$$.dirty&8192&&t(7,F=s&&s.icon||[0,0,"",[],""]),n.$$.dirty&12584960&&t(8,ne=we([r,"svelte-fa",A&&"spin",v&&"pulse"]," ")),n.$$.dirty&118784&&t(9,ye=Qt(o,u,a,c)),n.$$.dirty&4063232&&t(10,ve=Kt(i,h,g,_,m,512))},[l,f,d,y,k,X,j,F,ne,ye,ve,r,o,s,u,c,a,i,h,g,_,m,A,v]}class Se extends Z{constructor(e){super(),Q(this,e,tn,en,U,{class:11,id:0,style:12,icon:13,size:14,color:1,fw:15,pull:16,scale:17,translateX:18,translateY:19,rotate:20,flip:21,spin:22,pulse:23,primaryColor:2,secondaryColor:3,primaryOpacity:4,secondaryOpacity:5,swapOpacity:6})}}function nn(n){let e,t,r,l,o,s;return t=new Se({props:{icon:Jt,size:"2x",translateX:"0.5",translateY:"-0.5"}}),{c(){e=W("div"),L(t.$$.fragment),this.h()},l(u){e=Y(u,"DIV",{class:!0,style:!0});var f=E(e);V(t.$$.fragment,f),f.forEach(w),this.h()},h(){p(e,"class","pen svelte-bifvvb"),p(e,"style",r=`
    color: var(--light${n[0].color});
    background-color: var(--${n[0].color});
    --rotations: ${n[3]};
  `),O(e,"show",n[2]),O(e,"resetting",n[4])},m(u,f){I(u,e,f),z(t,e,null),n[9](e),l=!0,o||(s=q(e,"click",et(n[5])),o=!0)},p(u,[f]){(!l||f&9&&r!==(r=`
    color: var(--light${u[0].color});
    background-color: var(--${u[0].color});
    --rotations: ${u[3]};
  `))&&p(e,"style",r),f&4&&O(e,"show",u[2]),f&16&&O(e,"resetting",u[4])},i(u){l||(S(t.$$.fragment,u),l=!0)},o(u){P(t.$$.fragment,u),l=!1},d(u){u&&w(e),B(t),n[9](null),o=!1,s()}}}function rn(n,e,t){let r,l;M(n,se,g=>t(2,r=g)),M(n,Oe,g=>t(8,l=g));let{nodeConfig:o}=e;function s(g){ft(o.id),Ne(o.id,g),J.set(o.id)}let u,f,c,a,i=!1;function h(g){nt[g?"unshift":"push"](()=>{a=g,t(1,a)})}return n.$$set=g=>{"nodeConfig"in g&&t(0,o=g.nodeConfig)},n.$$.update=()=>{var g,_;if(n.$$.dirty&257&&t(6,u=(_=(g=Object.values(l).flat().find(m=>m.penId===o.id))==null?void 0:g.wheels)!=null?_:[]),n.$$.dirty&64&&t(7,f=u.length>0?-u[u.length-1].rate:0),n.$$.dirty&128&&t(3,c=f*ke),n.$$.dirty&6&&a!==void 0&&!r){const m=getComputedStyle(a).transform,[A,v]=m.substring(7,m.length-1).split(",").map(y=>Number.parseFloat(y)),d=Math.atan2(v,A)*(180/Math.PI)/360;a.style.setProperty("--shortcutRotations",d+"turn"),t(4,i=!0),setTimeout(()=>{t(4,i=!1)})}},[o,a,r,c,i,s,u,f,l,h]}class ln extends Z{constructor(e){super(),Q(this,e,rn,nn,U,{nodeConfig:0})}}function on(n){let e,t;return e=new ln({props:{nodeConfig:n[0]}}),{c(){L(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,l){z(e,r,l),t=!0},p(r,l){const o={};l&1&&(o.nodeConfig=r[0]),e.$set(o)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function sn(n){let e,t;return e=new Ht({props:{nodeConfig:n[0],anchorId:n[1],parentPhase:n[2]}}),{c(){L(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,l){z(e,r,l),t=!0},p(r,l){const o={};l&1&&(o.nodeConfig=r[0]),l&2&&(o.anchorId=r[1]),l&4&&(o.parentPhase=r[2]),e.$set(o)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function an(n){let e,t,r,l,o,s;const u=[sn,on],f=[];function c(a,i){return i&1&&(e=null),i&1&&(t=null),e==null&&(e=!!ie(a[0])),e?0:(t==null&&(t=!!st(a[0])),t?1:-1)}return~(r=c(n,-1))&&(l=f[r]=u[r](n)),{c(){l&&l.c(),o=D()},l(a){l&&l.l(a),o=D()},m(a,i){~r&&f[r].m(a,i),I(a,o,i),s=!0},p(a,[i]){let h=r;r=c(a,i),r===h?~r&&f[r].p(a,i):(l&&(H(),P(f[h],1,1,()=>{f[h]=null}),G()),~r?(l=f[r],l?l.p(a,i):(l=f[r]=u[r](a),l.c()),S(l,1),l.m(o.parentNode,o)):l=null)},i(a){s||(S(l),s=!0)},o(a){P(l),s=!1},d(a){~r&&f[r].d(a),a&&w(o)}}}function fn(n,e,t){let{nodeConfig:r}=e,{anchorId:l}=e,{parentPhase:o}=e;return n.$$set=s=>{"nodeConfig"in s&&t(0,r=s.nodeConfig),"anchorId"in s&&t(1,l=s.anchorId),"parentPhase"in s&&t(2,o=s.parentPhase)},[r,l,o]}class gt extends Z{constructor(e){super(),Q(this,e,fn,an,U,{nodeConfig:0,anchorId:1,parentPhase:2})}}function ae(n,{delay:e=0,duration:t=400,easing:r=rt}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:o=>`opacity: ${o*l}`}}function He(n){let e,t,r,l,o,s,u;return{c(){e=$("polygon"),this.h()},l(f){e=ee(f,"polygon",{points:!0,style:!0,class:!0}),E(e).forEach(w),this.h()},h(){p(e,"points",n[1]),p(e,"style",t=`stroke: var(--${n[0].color}); filter: drop-shadow(0px 0px 5px var(--light${n[0].color}));`),p(e,"class","svelte-h5q9gq"),O(e,"levelComplete",n[3])},m(f,c){I(f,e,c),o=!0,s||(u=q(e,"introend",n[5]),s=!0)},p(f,c){(!o||c&2)&&p(e,"points",f[1]),(!o||c&1&&t!==(t=`stroke: var(--${f[0].color}); filter: drop-shadow(0px 0px 5px var(--light${f[0].color}));`))&&p(e,"style",t),c&8&&O(e,"levelComplete",f[3])},i(f){o||(f&&de(()=>{l&&l.end(1),r=bt(e,n[4],{}),r.start()}),o=!0)},o(f){r&&r.invalidate(),f&&(l=kt(e,ae,{})),o=!1},d(f){f&&w(e),f&&l&&l.end(),s=!1,u()}}}function un(n){let e,t=n[2]&&He(n);return{c(){t&&t.c(),e=D()},l(r){t&&t.l(r),e=D()},m(r,l){t&&t.m(r,l),I(r,e,l)},p(r,[l]){r[2]?t?(t.p(r,l),l&4&&S(t,1)):(t=He(r),t.c(),S(t,1),t.m(e.parentNode,e)):t&&(H(),P(t,1,1,()=>{t=null}),G())},i(r){S(t)},o(r){P(t)},d(r){t&&t.d(r),r&&w(e)}}}function cn(n,e){let t=0,r=0;return n.wheels.forEach(l=>{const o=l.phase/12*2*Math.PI+e*l.rate;t+=Math.cos(o)*l.length,r+=Math.sin(o)*l.length}),`${t*20},${r*20} `}function hn(n,e,t){let r,l,o,s,u;M(n,Vt,v=>t(10,r=v)),M(n,ht,v=>t(11,l=v)),M(n,Ce,v=>t(8,o=v)),M(n,se,v=>t(2,s=v)),M(n,_e,v=>t(3,u=v));let{idx:f}=e,{config:c}=e,a,i,h;function g(v){let d="";for(let y=0;y<i;y++){const k=Math.PI*2*y/i;d+=cn(v,k)}return d}function _(v){const d=v.points,y=[];if(d.length<=1)return[];let k=null;for(let F=0;F<d.length;F++){const ne=d.getItem(F);if(k===null)y.push(0);else{const ye=Math.sqrt(Math.pow(ne.x-k.x,2)+Math.pow(ne.y-k.y,2)),ve=y[y.length-1];y.push(ve+ye)}k=ne}const X=Math.sqrt(Math.pow(d[0].x-d[d.length-1].x,2)+Math.pow(d[0].y-d[d.length-1].y,2)),j=y[y.length-1];return y.push(j+X),y}function m(v,{}){const d=v===void 0?[]:_(v),y=d[Math.round((d.length-1)*ke)],k=d[d.length-1];v.setAttribute("stroke-dasharray",`${k} ${k}`),v.setAttribute("stroke-dashoffset",`${k-y}`);function X(j){const F=Math.round(j*ke*(d.length-1)),ne=d[F];return`stroke-dashoffset: ${k-ne}`}return{delay:0,duration:l*1e3,easing:rt,css:X}}function A(){f===0&&r&&_e.set(!0)}return n.$$set=v=>{"idx"in v&&t(6,f=v.idx),"config"in v&&t(0,c=v.config)},n.$$.update=()=>{n.$$.dirty&1&&t(7,a=c.wheels.map(v=>v.length*Math.abs(v.rate)).reduce((v,d)=>v+d,0)),n.$$.dirty&384&&(i=Math.round(a*200/o)),n.$$.dirty&1&&t(1,h=g(c))},[c,h,s,u,m,A,f,a,o]}class gn extends Z{constructor(e){super(),Q(this,e,hn,un,U,{idx:6,config:0})}}function pn(n){let e,t,r;return{c(){e=$("polygon"),this.h()},l(l){e=ee(l,"polygon",{points:!0,class:!0}),E(e).forEach(w),this.h()},h(){p(e,"points",n[0]),p(e,"class","svelte-1j5g50l")},m(l,o){I(l,e,o),r=!0},p(l,[o]){(!r||o&1)&&p(e,"points",l[0])},i(l){r||(de(()=>{t||(t=ce(e,ae,{},!0)),t.run(1)}),r=!0)},o(l){t||(t=ce(e,ae,{},!1)),t.run(0),r=!1},d(l){l&&w(e),l&&t&&t.end()}}}function _n(n,e){let t=0,r=0;return n.forEach(l=>{const o=l.phase/12*2*Math.PI+e*l.rate;t+=Math.cos(o)*l.length,r+=Math.sin(o)*l.length}),`${t*20},${r*20} `}function dn(n,e,t){let r;M(n,Ce,c=>t(3,r=c));let{config:l}=e,o,s,u;function f(c){let a="";for(let i=0;i<s;i++){const h=Math.PI*2*i/s;a+=_n(c,h)}return a}return n.$$set=c=>{"config"in c&&t(1,l=c.config)},n.$$.update=()=>{n.$$.dirty&2&&t(2,o=l.map(c=>c.length*Math.abs(c.rate)).reduce((c,a)=>c+a,0)),n.$$.dirty&12&&(s=Math.round(o*200/r)),n.$$.dirty&2&&t(0,u=f(l))},[u,l,o,r]}class mn extends Z{constructor(e){super(),Q(this,e,dn,pn,U,{config:1})}}function Ge(n,e,t){const r=n.slice();return r[17]=e[t],r[19]=t,r}function Ue(n,e,t){const r=n.slice();return r[20]=e[t],r}function Je(n){let e,t,r=n[10],l=[];for(let s=0;s<r.length;s+=1)l[s]=Ze(Ue(n,r,s));const o=s=>P(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=D()},l(s){for(let u=0;u<l.length;u+=1)l[u].l(s);e=D()},m(s,u){for(let f=0;f<l.length;f+=1)l[f].m(s,u);I(s,e,u),t=!0},p(s,u){if(u&1024){r=s[10];let f;for(f=0;f<r.length;f+=1){const c=Ue(s,r,f);l[f]?(l[f].p(c,u),S(l[f],1)):(l[f]=Ze(c),l[f].c(),S(l[f],1),l[f].m(e.parentNode,e))}for(H(),f=r.length;f<l.length;f+=1)o(f);G()}},i(s){if(!t){for(let u=0;u<r.length;u+=1)S(l[u]);t=!0}},o(s){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)P(l[u]);t=!1},d(s){tt(l,s),s&&w(e)}}}function Ze(n){let e,t;return e=new mn({props:{config:n[20]}}),{c(){L(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,l){z(e,r,l),t=!0},p(r,l){const o={};l&1024&&(o.config=r[20]),e.$set(o)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Qe(n,e){let t,r,l;return r=new gn({props:{config:e[17],idx:e[19]}}),{key:n,first:null,c(){t=D(),L(r.$$.fragment),this.h()},l(o){t=D(),V(r.$$.fragment,o),this.h()},h(){this.first=t},m(o,s){I(o,t,s),z(r,o,s),l=!0},p(o,s){e=o;const u={};s&64&&(u.config=e[17]),s&64&&(u.idx=e[19]),r.$set(u)},i(o){l||(S(r.$$.fragment,o),l=!0)},o(o){P(r.$$.fragment,o),l=!1},d(o){o&&w(t),B(r,o)}}}function yn(n){let e,t,r,l=[],o=new Map,s,u,f,c,a,i,h,g,_,m=!n[9]&&n[1]&&Je(n),A=n[6];const v=d=>d[17].penId;for(let d=0;d<A.length;d+=1){let y=Ge(n,A,d),k=v(y);o.set(k,l[d]=Qe(k,y))}return i=new gt({props:{nodeConfig:n[0],anchorId:n[0].id,parentPhase:n[5]}}),{c(){e=W("div"),t=$("svg"),m&&m.c(),r=D();for(let d=0;d<l.length;d+=1)l[d].c();c=re(),a=W("div"),L(i.$$.fragment),this.h()},l(d){e=Y(d,"DIV",{class:!0,style:!0});var y=E(e);t=ee(y,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var k=E(t);m&&m.l(k),r=D();for(let j=0;j<l.length;j+=1)l[j].l(k);k.forEach(w),c=le(y),a=Y(y,"DIV",{class:!0,style:!0});var X=E(a);V(i.$$.fragment,X),X.forEach(w),y.forEach(w),this.h()},h(){p(t,"viewBox",s=`${-n[7]} ${-n[7]} ${n[7]*2} ${n[7]*2}`),p(t,"width",u=n[7]*2),p(t,"height",f=n[7]*2),p(t,"class","svelte-bkv91k"),p(a,"class","center svelte-bkv91k"),p(a,"style",h=`transform: rotate(${n[5]}turn);`),O(a,"hide",n[9]),p(e,"class","anchor svelte-bkv91k"),p(e,"style",g=`
    --duration: ${n[8]};
    left: ${n[3]}%;
    top: ${n[4]}%;
  `),O(e,"selected",n[2]),O(e,"primary",n[1])},m(d,y){I(d,e,y),R(e,t),m&&m.m(t,null),R(t,r);for(let k=0;k<l.length;k+=1)l[k].m(t,null);R(e,c),R(e,a),z(i,a,null),_=!0},p(d,[y]){!d[9]&&d[1]?m?(m.p(d,y),y&514&&S(m,1)):(m=Je(d),m.c(),S(m,1),m.m(t,r)):m&&(H(),P(m,1,1,()=>{m=null}),G()),y&64&&(A=d[6],H(),l=lt(l,y,v,1,d,A,o,t,ot,Qe,null,Ge),G()),(!_||y&128&&s!==(s=`${-d[7]} ${-d[7]} ${d[7]*2} ${d[7]*2}`))&&p(t,"viewBox",s),(!_||y&128&&u!==(u=d[7]*2))&&p(t,"width",u),(!_||y&128&&f!==(f=d[7]*2))&&p(t,"height",f);const k={};y&1&&(k.nodeConfig=d[0]),y&1&&(k.anchorId=d[0].id),y&32&&(k.parentPhase=d[5]),i.$set(k),(!_||y&32&&h!==(h=`transform: rotate(${d[5]}turn);`))&&p(a,"style",h),y&512&&O(a,"hide",d[9]),(!_||y&280&&g!==(g=`
    --duration: ${d[8]};
    left: ${d[3]}%;
    top: ${d[4]}%;
  `))&&p(e,"style",g),y&4&&O(e,"selected",d[2]),y&2&&O(e,"primary",d[1])},i(d){if(!_){S(m);for(let y=0;y<A.length;y+=1)S(l[y]);S(i.$$.fragment,d),_=!0}},o(d){P(m);for(let y=0;y<l.length;y+=1)P(l[y]);P(i.$$.fragment,d),_=!1},d(d){d&&w(e),m&&m.d();for(let y=0;y<l.length;y+=1)l[y].d();B(i)}}}function vn(n,e,t){let r,l,o,s,u,f,c;M(n,Ce,k=>t(12,r=k)),M(n,x,k=>t(13,l=k)),M(n,Oe,k=>t(14,o=k)),M(n,J,k=>t(15,s=k)),M(n,ht,k=>t(8,u=k)),M(n,_e,k=>t(9,f=k)),M(n,De,k=>t(10,c=k));let{nodeConfig:a}=e,i,h,g,_,m,A;function v(k,X){const j=Object.values(X).filter(At).filter(F=>F.parent.id===k.id).map(F=>F.parent.idx+v(F,X));return Math.max(k.length,...j)}let d,y;return n.$$set=k=>{"nodeConfig"in k&&t(0,a=k.nodeConfig)},n.$$.update=()=>{var k;n.$$.dirty&1&&t(1,i=at(a)),n.$$.dirty&32769&&t(2,h=s===a.id),n.$$.dirty&3&&t(3,g=i?50:a.parent.left),n.$$.dirty&3&&t(4,_=i?50:a.parent.top),n.$$.dirty&1&&t(5,m=ie(a)?a.phase/12:0),n.$$.dirty&16385&&t(6,A=(k=o[a.id])!=null?k:[]),n.$$.dirty&8193&&t(11,d=ie(a)?v(a,l):0),n.$$.dirty&6146&&(i?t(7,y=Math.max(d,r)*20):t(7,y=d*20))},[a,i,h,g,_,m,A,y,u,f,c,d,r,l,o,s]}class pt extends Z{constructor(e){super(),Q(this,e,vn,yn,U,{nodeConfig:0})}}function Ke(n,e,t){const r=n.slice();return r[14]=e[t],r}function xe(n,e){let t,r,l;return r=new pt({props:{nodeConfig:e[14]}}),{key:n,first:null,c(){t=D(),L(r.$$.fragment),this.h()},l(o){t=D(),V(r.$$.fragment,o),this.h()},h(){this.first=t},m(o,s){I(o,t,s),z(r,o,s),l=!0},p(o,s){e=o;const u={};s&8&&(u.nodeConfig=e[14]),r.$set(u)},i(o){l||(S(r.$$.fragment,o),l=!0)},o(o){P(r.$$.fragment,o),l=!1},d(o){o&&w(t),B(r,o)}}}function $e(n){let e,t,r,l=[],o=new Map,s,u,f,c,a;t=new pt({props:{nodeConfig:n[4]}});let i=n[3];const h=g=>g[14].id;for(let g=0;g<i.length;g+=1){let _=Ke(n,i,g),m=h(_);o.set(m,l[g]=xe(m,_))}return{c(){e=W("div"),L(t.$$.fragment),r=re();for(let g=0;g<l.length;g+=1)l[g].c();this.h()},l(g){e=Y(g,"DIV",{class:!0,style:!0});var _=E(e);V(t.$$.fragment,_),r=le(_);for(let m=0;m<l.length;m+=1)l[m].l(_);_.forEach(w),this.h()},h(){p(e,"class","container svelte-1ki2qt7"),p(e,"style",s=`--scale: ${n[2]}`),de(()=>n[12].call(e))},m(g,_){I(g,e,_),z(t,e,null),R(e,r);for(let m=0;m<l.length;m+=1)l[m].m(e,null);u=wt(e,n[12].bind(e)),f=!0,c||(a=[q(e,"mousemove",n[7]),q(e,"click",n[8])],c=!0)},p(g,_){const m={};_&16&&(m.nodeConfig=g[4]),t.$set(m),_&8&&(i=g[3],H(),l=lt(l,_,h,1,g,i,o,e,ot,xe,null,Ke),G()),(!f||_&4&&s!==(s=`--scale: ${g[2]}`))&&p(e,"style",s)},i(g){if(!f){S(t.$$.fragment,g);for(let _=0;_<i.length;_+=1)S(l[_]);f=!0}},o(g){P(t.$$.fragment,g);for(let _=0;_<l.length;_+=1)P(l[_]);f=!1},d(g){g&&w(e),B(t);for(let _=0;_<l.length;_+=1)l[_].d();u(),c=!1,Me(a)}}}function bn(n){let e,t,r,l,o,s=n[5],u,f,c=$e(n);return{c(){e=W("div"),t=fe(n[5]),r=fe(" - "),l=fe(n[6]),o=re(),c.c(),u=D(),this.h()},l(a){e=Y(a,"DIV",{class:!0});var i=E(e);t=ue(i,n[5]),r=ue(i," - "),l=ue(i,n[6]),i.forEach(w),o=le(a),c.l(a),u=D(),this.h()},h(){p(e,"class","level svelte-1ki2qt7")},m(a,i){I(a,e,i),R(e,t),R(e,r),R(e,l),I(a,o,i),c.m(a,i),I(a,u,i),f=!0},p(a,[i]){(!f||i&32)&&Pe(t,a[5]),(!f||i&64)&&Pe(l,a[6]),i&32&&U(s,s=a[5])?(H(),P(c,1,1,te),G(),c=$e(a),c.c(),S(c),c.m(u.parentNode,u)):c.p(a,i)},i(a){f||(S(c),f=!0)},o(a){P(c),f=!1},d(a){a&&w(e),a&&w(o),a&&w(u),c.d(a)}}}function kn(n,e,t){let r,l,o,s,u;M(n,J,v=>t(13,r=v)),M(n,x,v=>t(10,l=v)),M(n,Ce,v=>t(11,o=v)),M(n,pe,v=>t(5,s=v)),M(n,Lt,v=>t(6,u=v));let f,c,a,i,h,g;function _(v){Ne(r,v)}function m(v){J.set(void 0)}function A(){c=this.clientHeight,f=this.clientWidth,t(1,c),t(0,f)}return n.$$.update=()=>{n.$$.dirty&3&&t(9,a=Math.min(f,c)/40),n.$$.dirty&2560&&t(2,i=Math.min(5,a/(o*1.1))),n.$$.dirty&1024&&t(3,h=Object.values(l).filter(Ee)),n.$$.dirty&1024&&t(4,g=Object.values(l).find(at))},[f,c,i,h,g,s,u,_,m,a,l,o,A]}class wn extends Z{constructor(e){super(),Q(this,e,kn,bn,U,{})}}function Cn(n){let e,t,r,l,o,s;return{c(){e=W("div"),t=W("span"),r=fe("You Win!"),l=re(),o=W("span"),s=fe("Thanks for Playing"),this.h()},l(u){e=Y(u,"DIV",{class:!0});var f=E(e);t=Y(f,"SPAN",{});var c=E(t);r=ue(c,"You Win!"),c.forEach(w),l=le(f),o=Y(f,"SPAN",{class:!0});var a=E(o);s=ue(a,"Thanks for Playing"),a.forEach(w),f.forEach(w),this.h()},h(){p(o,"class","sub svelte-1k9k98l"),p(e,"class","level svelte-1k9k98l")},m(u,f){I(u,e,f),R(e,t),R(t,r),R(e,l),R(e,o),R(o,s)},p:te,i:te,o:te,d(u){u&&w(e)}}}function Sn(n){let e,t,r,l,o,s;e=new wn({});const u=[Mn,Pn],f=[];function c(a,i){return a[0]?0:1}return r=c(n),l=f[r]=u[r](n),{c(){L(e.$$.fragment),t=re(),l.c(),o=D()},l(a){V(e.$$.fragment,a),t=le(a),l.l(a),o=D()},m(a,i){z(e,a,i),I(a,t,i),f[r].m(a,i),I(a,o,i),s=!0},p(a,i){let h=r;r=c(a),r===h?f[r].p(a,i):(H(),P(f[h],1,1,()=>{f[h]=null}),G(),l=f[r],l?l.p(a,i):(l=f[r]=u[r](a),l.c()),S(l,1),l.m(o.parentNode,o))},i(a){s||(S(e.$$.fragment,a),S(l),s=!0)},o(a){P(e.$$.fragment,a),P(l),s=!1},d(a){B(e,a),a&&w(t),f[r].d(a),a&&w(o)}}}function Pn(n){let e,t,r,l,o,s,u;const f=[An,In],c=[];function a(i,h){return i[2]?0:1}return t=a(n),r=c[t]=f[t](n),{c(){e=W("button"),r.c(),this.h()},l(i){e=Y(i,"BUTTON",{class:!0});var h=E(e);r.l(h),h.forEach(w),this.h()},h(){p(e,"class","svelte-1k9k98l")},m(i,h){I(i,e,h),c[t].m(e,null),o=!0,s||(u=[q(e,"click",n[5]),q(e,"keydown",it(n[7]))],s=!0)},p(i,h){let g=t;t=a(i),t===g?c[t].p(i,h):(H(),P(c[g],1,1,()=>{c[g]=null}),G(),r=c[t],r?r.p(i,h):(r=c[t]=f[t](i),r.c()),S(r,1),r.m(e,null))},i(i){o||(S(r),de(()=>{l||(l=ce(e,ae,{},!0)),l.run(1)}),o=!0)},o(i){P(r),l||(l=ce(e,ae,{},!1)),l.run(0),o=!1},d(i){i&&w(e),c[t].d(),i&&l&&l.end(),s=!1,Me(u)}}}function Mn(n){let e,t,r,l,o,s;return t=new Se({props:{icon:Gt}}),{c(){e=W("button"),L(t.$$.fragment),this.h()},l(u){e=Y(u,"BUTTON",{class:!0});var f=E(e);V(t.$$.fragment,f),f.forEach(w),this.h()},h(){p(e,"class","svelte-1k9k98l")},m(u,f){I(u,e,f),z(t,e,null),l=!0,o||(s=[q(e,"click",n[3]),q(e,"keydown",it(n[6]))],o=!0)},p:te,i(u){l||(S(t.$$.fragment,u),de(()=>{r||(r=ce(e,ae,{},!0)),r.run(1)}),l=!0)},o(u){P(t.$$.fragment,u),r||(r=ce(e,ae,{},!1)),r.run(0),l=!1},d(u){u&&w(e),B(t),u&&r&&r.end(),o=!1,Me(s)}}}function In(n){let e,t;return e=new Se({props:{icon:Zt}}),{c(){L(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,l){z(e,r,l),t=!0},p:te,i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function An(n){let e,t;return e=new Se({props:{icon:Ut}}),{c(){L(e.$$.fragment)},l(r){V(e.$$.fragment,r)},m(r,l){z(e,r,l),t=!0},p:te,i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){P(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function En(n){let e,t,r,l,o,s,u;const f=[Sn,Cn],c=[];function a(i,h){return i[1]<=15?0:1}return r=a(n),l=c[r]=f[r](n),{c(){e=re(),t=W("div"),l.c(),this.h()},l(i){e=le(i),t=Y(i,"DIV",{class:!0});var h=E(t);l.l(h),h.forEach(w),this.h()},h(){p(t,"class","container svelte-1k9k98l")},m(i,h){I(i,e,h),I(i,t,h),c[r].m(t,null),o=!0,s||(u=q(document.body,"keydown",n[4]),s=!0)},p(i,[h]){let g=r;r=a(i),r===g?c[r].p(i,h):(H(),P(c[g],1,1,()=>{c[g]=null}),G(),l=c[r],l?l.p(i,h):(l=c[r]=f[r](i),l.c()),S(l,1),l.m(t,null))},i(i){o||(S(l),o=!0)},o(i){P(l),o=!1},d(i){i&&w(e),i&&w(t),c[r].d(),s=!1,u()}}}function Nn(n,e,t){let r,l,o,s;M(n,J,h=>t(8,r=h)),M(n,_e,h=>t(0,l=h)),M(n,pe,h=>t(1,o=h)),M(n,se,h=>t(2,s=h));function u(){pe.update(h=>h+1)}function f(h){h.key===" "&&(l?u():c())}function c(){r===void 0&&se.update(h=>!h)}function a(h){Le.call(this,n,h)}function i(h){Le.call(this,n,h)}return[l,o,s,u,f,c,a,i]}class Tn extends Z{constructor(e){super(),Q(this,e,Nn,En,U,{})}}export{Tn as default};
